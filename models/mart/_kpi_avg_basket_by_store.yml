version: 2

models:

  - name: kpi_avg_basket_by_store
    description: |
      This model aggregates customer order data from the `stg_orders` and `stg_orders_item` table.
      
      It provides key metrics about the average basket purchase by customers
    columns:

      - name: store_id
        tests:
          - unique
          - not_null

      - name: order_revenue 
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0'
              
      - name: avg_basket_value 
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0'
